.tasksPane {
	--task-bucket-today: oklch(0.66 0.17 85);
	--task-bucket-upcoming: oklch(0.62 0.14 240);
	--task-bucket-inbox: oklch(0.63 0.12 165);
	display: flex;
	flex-direction: column;
	min-height: 0;
	height: 100%;
	background: var(--bg-primary);
}

.tasksPaneToolbar {
	display: flex;
	align-items: flex-start;
	justify-content: space-between;
	gap: 12px;
	padding: 14px 18px;
	border-bottom: 1px solid var(--border-light);
	background: color-mix(in srgb, var(--bg-secondary) 32%, var(--bg-primary));
}

.tasksPaneToolbarPrimary,
.tasksPaneToolbarActions {
	display: flex;
	align-items: center;
	gap: 10px;
	min-width: 0;
}

.tasksPaneToolbarPrimary {
	flex: 1;
	flex-direction: column;
	align-items: flex-start;
	gap: 6px;
}

.tasksPaneToolbarTitleRow {
	display: flex;
	align-items: center;
	flex-wrap: wrap;
	gap: 8px;
	min-width: 0;
}

.tasksPaneToolbarTitle {
	margin: 0;
	font-size: 0.96rem;
	font-weight: 600;
	color: var(--text-primary);
}

.tasksPaneToolbarBadge {
	display: inline-flex;
	align-items: center;
	height: 20px;
	padding: 0 8px;
	border-radius: var(--radius-sm);
	border: 1px solid color-mix(in srgb, var(--border-light) 74%, transparent);
	background: color-mix(in srgb, var(--bg-secondary) 74%, transparent);
	font-size: 0.68rem;
	font-weight: var(--font-semibold);
	letter-spacing: 0.08em;
	text-transform: uppercase;
	color: color-mix(in srgb, var(--text-secondary) 92%, var(--text-primary));
}

.tasksPaneToolbarSubtitle {
	margin: 0;
	max-width: 720px;
	font-size: 0.76rem;
	line-height: 1.45;
	color: color-mix(in srgb, var(--text-secondary) 84%, transparent);
}

.tasksPaneToolbarActions {
	flex-shrink: 0;
}

.tasksPaneScopeChip {
	display: inline-flex;
	align-items: center;
	gap: 6px;
	height: 26px;
	padding: 0 10px;
	border-radius: var(--radius-md);
	border: 1px solid color-mix(in srgb, var(--border-light) 78%, transparent);
	background: color-mix(in srgb, var(--bg-primary) 88%, transparent);
	font-size: var(--text-xs);
	font-weight: var(--font-medium);
	color: var(--text-secondary);
}

.tasksPaneScopeChip[data-bucket="today"] {
	border-color: color-mix(in srgb, var(--task-bucket-today) 30%, var(--border-light));
	background: color-mix(in srgb, var(--task-bucket-today) 12%, var(--bg-primary));
	color: color-mix(in srgb, var(--task-bucket-today) 70%, var(--text-primary));
}

.tasksPaneScopeChip[data-bucket="upcoming"] {
	border-color: color-mix(
		in srgb,
		var(--task-bucket-upcoming) 30%,
		var(--border-light)
	);
	background: color-mix(
		in srgb,
		var(--task-bucket-upcoming) 12%,
		var(--bg-primary)
	);
	color: color-mix(in srgb, var(--task-bucket-upcoming) 72%, var(--text-primary));
}

.tasksPaneScopeChip[data-bucket="inbox"] {
	border-color: color-mix(in srgb, var(--task-bucket-inbox) 30%, var(--border-light));
	background: color-mix(in srgb, var(--task-bucket-inbox) 12%, var(--bg-primary));
	color: color-mix(in srgb, var(--task-bucket-inbox) 72%, var(--text-primary));
}

.tasksPaneBody {
	flex: 1;
	min-height: 0;
	overflow: auto;
	display: flex;
	flex-direction: column;
	gap: 12px;
	padding: 14px 18px 18px;
}

.tasksPaneFilters {
	display: flex;
	align-items: center;
	justify-content: flex-start;
}

.tasksBucketPills {
	display: inline-flex;
	align-items: center;
	gap: 2px;
	padding: 3px;
	border-radius: var(--radius-xl);
	border: 1px solid color-mix(in srgb, var(--border-light) 82%, transparent);
	background: color-mix(in srgb, var(--bg-secondary) 72%, var(--bg-primary));
}

.tasksBucketPill {
	position: relative;
	border: 0;
	background: transparent;
	color: var(--text-secondary);
	border-radius: calc(var(--radius-xl) - 4px);
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: 7px;
	height: 28px;
	padding: 0 12px;
	font-size: 0.78rem;
	line-height: 1;
	font-weight: var(--font-semibold);
	cursor: pointer;
	transition: color 180ms ease;
}

.tasksBucketPillBg {
	position: absolute;
	inset: 0;
	border-radius: inherit;
	background: color-mix(in srgb, var(--bg-primary) 92%, transparent);
	border: 1px solid color-mix(in srgb, var(--border-light) 80%, transparent);
	box-shadow: 0 1px 2px
		color-mix(in srgb, var(--shadow-color, #000) 7%, transparent);
	z-index: 0;
}

.tasksBucketPill > *:not(.tasksBucketPillBg) {
	position: relative;
	z-index: 1;
}

.tasksBucketPillIcon {
	opacity: 0.88;
}

.tasksBucketPillLabel {
	position: relative;
	z-index: 1;
}

.tasksBucketPill:hover {
	color: var(--text-primary);
}

.tasksBucketPill[data-active="true"] {
	color: var(--text-primary);
}

.tasksBucketPill[data-bucket="inbox"][data-active="true"] .tasksBucketPillBg {
	background: color-mix(in srgb, var(--task-bucket-inbox) 22%, var(--bg-primary));
	border-color: color-mix(
		in srgb,
		var(--task-bucket-inbox) 40%,
		var(--border-light)
	);
}

.tasksBucketPill[data-bucket="today"][data-active="true"] .tasksBucketPillBg {
	background: color-mix(in srgb, var(--task-bucket-today) 24%, var(--bg-primary));
	border-color: color-mix(
		in srgb,
		var(--task-bucket-today) 42%,
		var(--border-light)
	);
}

.tasksBucketPill[data-bucket="upcoming"][data-active="true"] .tasksBucketPillBg {
	background: color-mix(
		in srgb,
		var(--task-bucket-upcoming) 24%,
		var(--bg-primary)
	);
	border-color: color-mix(
		in srgb,
		var(--task-bucket-upcoming) 42%,
		var(--border-light)
	);
}

.tasksBucketPill[data-active="true"] .tasksBucketPillIcon {
	opacity: 1;
}

.tasksBucketPill[data-bucket="inbox"][data-active="true"] .tasksBucketPillIcon {
	color: var(--task-bucket-inbox);
}

.tasksBucketPill[data-bucket="today"][data-active="true"] .tasksBucketPillIcon {
	color: var(--task-bucket-today);
}

.tasksBucketPill[data-bucket="upcoming"][data-active="true"] .tasksBucketPillIcon {
	color: var(--task-bucket-upcoming);
}

.tasksPaneError,
.tasksPaneLoading,
.tasksPaneEmptyState {
	border-radius: var(--radius-lg);
	border: 1px solid color-mix(in srgb, var(--border-light) 80%, transparent);
	background: color-mix(in srgb, var(--bg-primary) 94%, var(--bg-secondary));
}

.tasksPaneError {
	font-size: var(--text-sm);
	color: var(--status-danger-fg);
	background: var(--status-danger-bg);
	border-color: var(--status-danger-border);
	padding: 10px 12px;
}

.tasksPaneLoading {
	padding: 18px;
	font-size: var(--text-sm);
	color: var(--text-secondary);
}

.tasksPaneEmptyState {
	min-height: 220px;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	gap: 12px;
	padding: 24px;
	color: var(--text-tertiary);
	text-align: center;
}

.tasksPaneEmptyIcon {
	opacity: 0.42;
}

.tasksPaneEmptyCopy {
	display: flex;
	flex-direction: column;
	gap: 6px;
	max-width: 420px;
}

.tasksPaneEmptyCopy strong {
	font-size: var(--text-sm);
	font-weight: var(--font-semibold);
	color: var(--text-primary);
}

.tasksPaneEmptyCopy span {
	font-size: var(--text-sm);
	line-height: 1.5;
	color: var(--text-secondary);
}

.tasksGroups,
.tasksList {
	display: flex;
	flex-direction: column;
	gap: 12px;
}

.tasksNoteGroup {
	display: flex;
	flex-direction: column;
	border: 1px solid color-mix(in srgb, var(--border-light) 80%, transparent);
	border-radius: var(--radius-lg);
	background: color-mix(in srgb, var(--bg-primary) 94%, var(--bg-secondary));
	overflow: hidden;
}

.tasksNoteHeader {
	width: 100%;
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 12px;
	background: transparent;
	border: none;
	padding: 12px 14px 10px;
	text-align: left;
	cursor: pointer;
	border-bottom: 1px solid color-mix(in srgb, var(--border-subtle) 72%, transparent);
	transition: background-color var(--transition-fast);
}

.tasksNoteHeader:hover {
	background: color-mix(in srgb, var(--bg-hover) 70%, transparent);
}

.tasksNoteHeaderLead {
	min-width: 0;
	display: flex;
	align-items: center;
	gap: 10px;
}

.tasksNoteHeaderIcon {
	width: 26px;
	height: 26px;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border-radius: var(--radius-md);
	border: 1px solid color-mix(in srgb, var(--border-light) 76%, transparent);
	background: color-mix(in srgb, var(--bg-secondary) 76%, transparent);
	color: var(--text-secondary);
	flex: 0 0 auto;
}

.tasksNoteHeaderMeta {
	min-width: 0;
	display: flex;
	flex-direction: column;
	gap: 3px;
}

.tasksNoteHeaderTitle {
	font-size: var(--text-sm);
	font-weight: var(--font-semibold);
	color: var(--text-primary);
}

.tasksNoteHeaderPath {
	min-width: 0;
	font-size: var(--text-xs);
	color: var(--text-secondary);
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

.tasksNoteHeaderCount {
	display: inline-flex;
	align-items: center;
	height: 22px;
	padding: 0 8px;
	border-radius: 999px;
	border: 1px solid color-mix(in srgb, var(--border-light) 76%, transparent);
	background: color-mix(in srgb, var(--bg-secondary) 72%, transparent);
	font-size: 0.68rem;
	font-weight: var(--font-semibold);
	letter-spacing: 0.03em;
	color: var(--text-secondary);
	flex: 0 0 auto;
}

.tasksNoteGroupList {
	display: flex;
	flex-direction: column;
	gap: 4px;
	padding: 6px;
}

.tasksListFlat {
	gap: 8px;
}

.tasksRow {
	display: grid;
	grid-template-columns: auto 1fr;
	align-items: start;
	gap: 10px;
	padding: 11px 12px;
	border-radius: var(--radius-lg);
	border: 1px solid color-mix(in srgb, transparent 100%, transparent);
	background: color-mix(in srgb, var(--bg-primary) 86%, transparent);
	transition: background-color var(--transition-fast), border-color
		var(--transition-fast), transform var(--transition-fast);
}

.tasksListFlat .tasksRow {
	border-color: color-mix(in srgb, var(--border-light) 80%, transparent);
	background: color-mix(in srgb, var(--bg-primary) 94%, var(--bg-secondary));
}

.tasksRow:hover {
	background: color-mix(in srgb, var(--bg-hover) 88%, var(--bg-primary));
	border-color: color-mix(in srgb, var(--border-default) 62%, transparent);
}

.tasksRow[data-checked="true"] .tasksRowText {
	text-decoration: line-through;
	opacity: 0.45;
}

.tasksCheckbox {
	border: none;
	background: transparent;
	padding: 1px;
	margin-top: 1px;
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	flex-shrink: 0;
}

.tasksCheckboxCircle {
	stroke: var(--border-strong);
}

.tasksCheckboxCheck {
	stroke: var(--bg-primary);
}

.tasksRowContent {
	min-width: 0;
	display: flex;
	flex-direction: column;
	gap: 8px;
}

.tasksRowText {
	font-size: 0.92rem;
	line-height: 1.45;
	color: var(--text-primary);
	word-break: break-word;
	transition: opacity 180ms ease;
}

.tasksRowMeta {
	display: flex;
	align-items: center;
	flex-wrap: wrap;
	gap: 8px;
}

.tasksMetaTag {
	display: inline-flex;
	align-items: center;
	height: 20px;
	padding: 0 8px;
	border-radius: 999px;
	border: 1px solid color-mix(in srgb, var(--border-light) 76%, transparent);
	background: color-mix(in srgb, var(--bg-secondary) 70%, transparent);
	font-size: 0.68rem;
	font-weight: var(--font-medium);
	color: var(--text-secondary);
}

.tasksMetaBadge {
	height: 22px;
	padding-inline: 8px;
	border-radius: 999px;
	border-color: color-mix(in srgb, var(--border-light) 76%, transparent);
	background: color-mix(in srgb, var(--bg-secondary) 72%, transparent);
	color: var(--text-secondary);
}

.tasksMetaBadgeDue {
	border-color: color-mix(in srgb, var(--task-bucket-upcoming) 28%, transparent);
	background: color-mix(in srgb, var(--task-bucket-upcoming) 10%, transparent);
	color: color-mix(in srgb, var(--task-bucket-upcoming) 72%, var(--text-primary));
}

.tasksRowPath {
	margin-left: auto;
	border: none;
	background: transparent;
	padding: 0;
	max-width: min(50%, 360px);
	font-size: var(--text-xs);
	color: var(--text-secondary);
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
	cursor: pointer;
}

.tasksRowPath:hover {
	color: var(--text-primary);
	text-decoration: underline;
}

.tasksScheduleBtn {
	height: 22px;
	padding-inline: 8px;
	border-radius: 999px;
	color: var(--text-secondary);
}

.tasksScheduleBtn:hover,
.tasksScheduleBtn:focus-visible {
	color: var(--text-primary);
	background: color-mix(in srgb, var(--bg-hover) 86%, var(--bg-secondary));
}

.tasksBucketPill:focus-visible,
.tasksNoteHeader:focus-visible,
.tasksCheckbox:focus-visible,
.tasksRowPath:focus-visible,
.tasksScheduleBtn:focus-visible {
	outline: 2px solid
		color-mix(in srgb, var(--interactive-accent) 42%, transparent);
	outline-offset: 2px;
}

.tasksDatePopover {
	width: 240px;
	display: flex;
	flex-direction: column;
	gap: var(--space-2);
}

.tasksDatePopover label {
	display: flex;
	flex-direction: column;
	gap: 4px;
	font-size: var(--text-xs);
	color: var(--text-secondary);
}

.tasksDatePopover input[type="date"] {
	border: 1px solid var(--border-light);
	border-radius: var(--radius-md);
	background: var(--bg-primary);
	padding: 6px 8px;
	font-size: var(--text-xs);
}

.tasksQuickDates {
	display: flex;
	gap: var(--space-1);
}

.tasksDateActions {
	display: flex;
	justify-content: flex-end;
	gap: var(--space-2);
}

@media (max-width: 900px) {
	.tasksPaneToolbar {
		flex-direction: column;
		align-items: stretch;
	}

	.tasksPaneToolbarActions {
		justify-content: space-between;
	}
}

@media (max-width: 680px) {
	.tasksPaneBody {
		padding-inline: 12px;
	}

	.tasksPaneToolbar {
		padding-inline: 12px;
	}

	.tasksBucketPills {
		width: 100%;
		justify-content: stretch;
	}

	.tasksBucketPill {
		flex: 1 1 0;
		padding-inline: 10px;
	}

	.tasksRowPath {
		margin-left: 0;
		max-width: 100%;
	}
}
