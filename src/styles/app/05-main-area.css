/* ─────────────────────────────────────────────────────────────────────────────
   MAIN CANVAS AREA - Floating center panel
   ───────────────────────────────────────────────────────────────────────────── */
.mainArea {
	flex: 1;
	display: flex;
	flex-direction: column;
	min-width: 0;
	min-height: 0;
	background: var(--bg-primary);
	overflow: hidden;
	margin: var(--app-frame) var(--app-frame) var(--app-frame) 0;
	border-radius: var(--app-radius);
	border-top-left-radius: calc(var(--app-radius) - var(--app-frame));
	border-bottom-left-radius: calc(var(--app-radius) - var(--app-frame));
	/* Shadow style matches sticky notes (two-layer), but softer. */
	box-shadow: 0 0 0 1px var(--border-light), 2px 4px 8px rgba(0, 0, 0, 0.1), 0
		1px 3px rgba(0, 0, 0, 0.08);
}

.mainAreaWelcome {
	background: var(--bg-primary);
}

.mainToolbar {
	display: flex;
	align-items: center;
	justify-content: space-between;
	height: var(--header-height);
	padding: 0 var(--space-4);
	background: transparent;
	border-bottom: 1px solid var(--border-light);
	flex-shrink: 0;
	position: relative;
	z-index: 2;
	-webkit-app-region: drag;
}

/* Ensure interactive elements inside drag regions are clickable */
.sidebarHeader button,
.sidebarHeader input,
.mainToolbar button,
.mainToolbar input {
	-webkit-app-region: no-drag;
}

.mainToolbarLeft {
	display: flex;
	align-items: center;
	gap: var(--space-3);
	margin-left: 34px;
	min-width: 0;
	transition: margin-left var(--transition-base);
}

.appShell.appShellSidebarCollapsed .mainToolbarLeft {
	margin-left: 110px;
}

.mainToolbarRight {
	display: flex;
	align-items: center;
	gap: var(--space-1);
}

.appShell.appShellSidebarCollapsed .sidebarResizeHandle {
	width: 0;
	margin-left: 0;
	margin-right: 0;
	pointer-events: none;
}

.welcomeScreen {
	flex: 1;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	gap: var(--space-4);
	padding: var(--space-5);
	overflow: auto;
	position: relative;
	background: radial-gradient(
			1200px 460px at 90% -20%,
			color-mix(in srgb, var(--accent-color) 14%, transparent),
			transparent 70%
		),
		radial-gradient(
			900px 320px at -15% 110%,
			color-mix(in srgb, var(--bg-tertiary) 85%, transparent),
			transparent 70%
		), var(--bg-primary);
}

.welcomeAmbient {
	pointer-events: none;
	position: absolute;
	inset: 0;
	overflow: hidden;
}

.welcomeOrb {
	position: absolute;
	border-radius: 999px;
	filter: blur(2px);
	opacity: 0.75;
}

.welcomeOrbA {
	width: 300px;
	height: 300px;
	right: -120px;
	top: -90px;
	background: color-mix(in srgb, var(--accent-color) 24%, transparent);
}

.welcomeOrbB {
	width: 240px;
	height: 240px;
	left: -90px;
	bottom: -120px;
	background: color-mix(in srgb, var(--bg-tertiary) 78%, transparent);
}

.welcomeSurface {
	position: relative;
	z-index: 1;
	width: min(760px, 100%);
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: var(--space-4);
}

.welcomeHero {
	display: flex;
	flex-direction: column;
	gap: var(--space-2);
	align-items: center;
	text-align: center;
}

.welcomeTitle {
	font-size: var(--text-3xl);
	font-weight: var(--font-semibold);
	color: var(--text-primary);
	letter-spacing: -0.02em;
}

.welcomeBrand {
	display: inline-flex;
	align-items: center;
	gap: var(--space-2);
}

.welcomeBrandIcon {
	width: 40px;
	height: 40px;
	border-radius: 12px;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	background: color-mix(in srgb, var(--bg-secondary) 92%, transparent);
	border: 1px solid color-mix(in srgb, var(--border-light) 85%, transparent);
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.welcomeSubtitle {
	font-size: var(--text-base);
	color: var(--text-secondary);
	max-width: 420px;
}

.welcomeContentGrid {
	display: grid;
	grid-template-columns: minmax(0, 1.25fr) minmax(0, 1fr);
	gap: var(--space-3);
	width: 100%;
}

.welcomeLaunchPanel {
	display: flex;
	flex-direction: column;
	gap: var(--space-2);
	padding: var(--space-4);
	border-radius: var(--radius-xl);
	border: 1px solid var(--border-light);
	background: color-mix(in srgb, var(--bg-secondary) 82%, transparent);
	box-shadow: 0 6px 20px rgba(0, 0, 0, 0.06);
	backdrop-filter: blur(6px);
	-webkit-backdrop-filter: blur(6px);
	margin-top: auto;
	width: 100%;
	max-width: 760px;
}

.welcomeOnboarding {
	width: 100%;
}

.welcomeOnboardingList {
	display: grid;
	grid-template-columns: repeat(3, minmax(0, 1fr));
	gap: var(--space-2);
}

.welcomeOnboardingCard {
	display: flex;
	flex-direction: column;
	align-items: center;
	text-align: center;
	gap: var(--space-2);
	padding: var(--space-4) var(--space-3);
	border-radius: var(--radius-lg);
	border: 1px solid var(--border-light);
	background: color-mix(in srgb, var(--bg-primary) 88%, transparent);
}

.welcomeOnboardingIcon {
	color: var(--text-accent, var(--interactive-accent));
	display: flex;
	align-items: center;
	justify-content: center;
}

.welcomeOnboardingTitle {
	font-size: var(--text-sm);
	font-weight: var(--font-semibold);
	color: var(--text-primary);
}

.welcomeOnboardingBody {
	font-size: var(--text-xs);
	line-height: var(--leading-snug);
	color: var(--text-secondary);
}

.welcomeActions {
	display: flex;
	justify-content: center;
	gap: var(--space-2);
	flex-wrap: wrap;
}

.welcomeRecents {
	display: flex;
	flex-direction: column;
	gap: var(--space-2);
	padding: var(--space-4);
	border-radius: var(--radius-xl);
	border: 1px solid var(--border-light);
	background: color-mix(in srgb, var(--bg-secondary) 74%, transparent);
	min-height: 0;
	width: 100%;
}

.welcomeRecentList {
	display: flex;
	flex-direction: column;
	gap: var(--space-2);
	max-height: 220px;
	overflow: auto;
	padding-right: var(--space-1);
}

.welcomeRecentItem {
	width: 100%;
	height: auto;
	min-height: var(--button-height);
	align-items: flex-start;
	justify-content: center;
	flex-direction: column;
	gap: 4px;
	padding: var(--space-3);
	border-radius: var(--radius-lg);
	border: 1px solid var(--border-light);
	background: color-mix(in srgb, var(--bg-secondary) 90%, transparent);
	color: var(--text-primary);
	text-align: left;
	transition: background var(--transition-fast), border-color
		var(--transition-fast);
}

.welcomeRecentItem:hover {
	background: color-mix(in srgb, var(--bg-hover) 82%, var(--bg-secondary));
	border-color: color-mix(in srgb, var(--accent-color) 35%, var(--border-light));
	color: var(--text-primary);
}

.welcomeRecentName {
	font-size: var(--text-sm);
	font-weight: var(--font-semibold);
}

.welcomeRecentPath {
	font-size: var(--text-xs);
	color: var(--text-tertiary);
}

.welcomeEmpty {
	font-size: var(--text-sm);
	color: var(--text-tertiary);
	text-align: center;
}

.welcomeLastVault {
	font-size: var(--text-xs);
	color: var(--text-tertiary);
	text-align: center;
	width: 100%;
}

/* Step transition wrapper */
.welcomeStepContent {
	width: 100%;
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: var(--space-4);
}

/* Navigation dots */
.welcomeDots {
	display: flex;
	align-items: center;
	justify-content: center;
	gap: var(--space-2);
	padding-top: var(--space-3);
}

.welcomeDot {
	width: 8px;
	height: 8px;
	border-radius: 999px;
	background: var(--border-default);
	border: none;
	padding: 0;
	cursor: pointer;
	transition: background 0.2s ease;
}

.welcomeDot:hover {
	background: var(--text-tertiary);
}

.welcomeDotActive {
	width: 24px;
	background: var(--interactive-accent);
}

.welcomeDotActive:hover {
	background: var(--interactive-accent-hover);
}

/* Hero step */
.welcomeStepHero {
	display: flex;
	flex-direction: column;
	align-items: center;
	text-align: center;
	gap: var(--space-4);
	padding: var(--space-5) 0;
}

.welcomeHeroTitle {
	font-size: clamp(2rem, 5vw, 3rem);
	font-weight: var(--font-semibold);
	color: var(--text-primary);
	letter-spacing: -0.03em;
	line-height: 1.1;
}

.welcomeHeroSubtitle {
	font-size: var(--text-lg, 1.125rem);
	color: var(--text-secondary);
	max-width: 380px;
	line-height: var(--leading-relaxed, 1.625);
}

.welcomeGetStarted {
	height: 44px;
	padding: 0 var(--space-5);
	border-radius: var(--radius-xl);
	background: var(--interactive-accent);
	color: var(--text-inverse);
	font-size: var(--text-base);
	font-weight: var(--font-semibold);
	display: inline-flex;
	align-items: center;
	gap: var(--space-2);
	margin-top: var(--space-2);
	border: none;
	cursor: pointer;
}

.welcomeGetStarted:hover {
	background: var(--interactive-accent-hover);
	color: var(--text-inverse);
}

/* Vault step (unused, kept for reference) */

.welcomeStepTitle {
	font-size: var(--text-xl, 1.25rem);
	font-weight: var(--font-semibold);
	color: var(--text-primary);
	text-align: center;
	letter-spacing: -0.01em;
}

.welcomeStepSubtitle {
	font-size: var(--text-sm);
	color: var(--text-secondary);
	text-align: center;
	max-width: 340px;
	line-height: var(--leading-relaxed, 1.625);
	margin-top: calc(-1 * var(--space-2));
}

/* Tips step */
.welcomeStepQuickStart {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: var(--space-4);
	width: 100%;
}

.welcomeTipsGrid {
	display: grid;
	grid-template-columns: repeat(3, minmax(0, 1fr));
	gap: var(--space-3);
	width: 100%;
}

.welcomeTipCard {
	display: flex;
	flex-direction: column;
	gap: var(--space-2);
	padding: var(--space-4);
	border-radius: var(--radius-lg);
	border: 1px solid var(--border-light);
	background: color-mix(in srgb, var(--bg-primary) 90%, transparent);
	backdrop-filter: blur(4px);
	-webkit-backdrop-filter: blur(4px);
}

.welcomeTipIndex {
	font-size: 11px;
	font-weight: var(--font-semibold);
	color: var(--text-tertiary);
	letter-spacing: 0.08em;
}

.welcomeTipTitle {
	display: flex;
	align-items: center;
	gap: var(--space-2);
	font-size: var(--text-sm);
	font-weight: var(--font-semibold);
	color: var(--text-primary);
}

.welcomeTipBody {
	font-size: var(--text-xs);
	line-height: var(--leading-snug);
	color: var(--text-secondary);
}

.welcomeNextBtn {
	height: 38px;
	padding: 0 var(--space-4);
	border-radius: var(--radius-lg);
	background: var(--interactive-accent);
	color: var(--text-inverse);
	font-weight: var(--font-semibold);
	display: inline-flex;
	align-items: center;
	gap: var(--space-2);
	border: none;
	cursor: pointer;
	font-size: var(--text-sm);
}

.welcomeNextBtn:hover {
	background: var(--interactive-accent-hover);
	color: var(--text-inverse);
}

/* Ready step */
.welcomeStepReady {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: var(--space-4);
	width: 100%;
	max-width: 480px;
}

.welcomeVaultPath {
	font-size: var(--text-xs);
	color: var(--text-tertiary);
	text-align: center;
	word-break: break-all;
}

.welcomeReadyActions {
	display: flex;
	gap: var(--space-2);
	flex-wrap: wrap;
	justify-content: center;
}

.welcomeReadyRecents {
	display: flex;
	flex-direction: column;
	gap: var(--space-2);
	width: 100%;
	padding: var(--space-3);
	border-radius: var(--radius-xl);
	border: 1px solid var(--border-light);
	background: color-mix(in srgb, var(--bg-secondary) 74%, transparent);
	max-height: 200px;
	overflow-y: auto;
}

.welcomeReadyRecentItem {
	width: 100%;
	display: flex;
	flex-direction: column;
	align-items: flex-start;
	justify-content: center;
	gap: 2px;
	padding: var(--space-2) var(--space-3);
	border-radius: var(--radius-md);
	border: 1px solid var(--border-light);
	background: color-mix(in srgb, var(--bg-primary) 88%, transparent);
	cursor: pointer;
	text-align: left;
}

.welcomeReadyRecentItem:hover {
	border-color: var(--border-default);
	background: var(--bg-hover);
}

.welcomeReadyRecentName {
	font-size: var(--text-sm);
	font-weight: var(--font-medium);
	color: var(--text-primary);
}

.welcomeReadyRecentPath {
	font-size: 11px;
	color: var(--text-tertiary);
	word-break: break-all;
}

.welcomeBackBtn {
	height: 38px;
	padding: 0 var(--space-4);
	border-radius: var(--radius-lg);
	border: 1px solid var(--border-default);
	background: color-mix(in srgb, var(--bg-primary) 82%, transparent);
	color: var(--text-primary);
	font-weight: var(--font-medium);
	display: inline-flex;
	align-items: center;
	gap: var(--space-2);
	cursor: pointer;
	font-size: var(--text-sm);
}

.welcomeBackBtn:hover {
	border-color: var(--border-strong);
	background: var(--bg-hover);
}

.welcomeLaunchPrimary,
.welcomeLaunchSecondary {
	height: 36px;
	border-radius: var(--radius-lg);
	padding: 0 var(--space-4);
}

.welcomeLaunchPrimary {
	background: var(--interactive-accent);
	color: var(--text-inverse);
}

.welcomeLaunchPrimary:hover {
	background: var(--interactive-accent-hover);
	color: var(--text-inverse);
}

.welcomeLaunchSecondary {
	border: 1px solid var(--border-default);
	background: color-mix(in srgb, var(--bg-primary) 82%, transparent);
	color: var(--text-primary);
}

.welcomeLaunchSecondary:hover {
	border-color: var(--border-strong);
	background: var(--bg-hover);
	color: var(--text-primary);
}

.folderBreadcrumb {
	display: inline-flex;
	align-items: center;
	gap: 10px;
	min-width: 0;
}

.folderBreadcrumbIcon {
	color: var(--text-accent);
	display: inline-flex;
	flex-shrink: 0;
}

.folderBreadcrumbTrail {
	display: inline-flex;
	align-items: center;
	gap: 6px;
	min-width: 0;
	flex-wrap: wrap;
}

.folderCrumb {
	display: inline-flex;
	align-items: center;
	gap: 6px;
	min-width: 0;
}

.folderCrumbBtn {
	border: 1px solid transparent;
	background: transparent;
	padding: 2px 6px;
	border-radius: var(--radius-md);
	color: var(--text-secondary);
	font-size: var(--text-xs);
	cursor: pointer;
	white-space: nowrap;
	max-width: 220px;
	overflow: hidden;
	text-overflow: ellipsis;
}

.folderCrumbBtn:hover {
	background: var(--bg-hover);
	color: var(--text-primary);
}

.folderCrumbBtn.isCurrent {
	border-color: var(--border-light);
	background: color-mix(in srgb, var(--bg-secondary) 70%, transparent);
	color: var(--text-primary);
}

.folderCrumbSep {
	color: var(--text-tertiary);
	display: inline-flex;
	opacity: 0.7;
}

.folderShelf {
	flex-shrink: 0;
	padding: 6px var(--space-4);
	border-bottom: 1px solid var(--border-light);
	background: color-mix(in srgb, var(--bg-secondary) 50%, transparent);
	-webkit-app-region: no-drag;
}

.folderShelfBar {
	display: flex;
	align-items: center;
	gap: var(--space-3);
}

.folderShelfGroup {
	display: flex;
	align-items: center;
	gap: 10px;
	min-width: 0;
	flex: 1;
}

.folderShelfGroupHead {
	display: inline-flex;
	align-items: center;
	gap: 6px;
	flex-shrink: 0;
	color: var(--text-tertiary);
	font-size: var(--text-xs);
}

.folderShelfGroupIcon {
	display: inline-flex;
	color: var(--text-tertiary);
}

.folderShelfGroupTitle {
	letter-spacing: 0.02em;
	text-transform: uppercase;
	font-size: 11px;
}

.folderShelfDivider {
	width: 1px;
	align-self: stretch;
	background: var(--border-light);
	opacity: 0.9;
}

.folderShelfStrip {
	flex: 1;
	display: flex;
	gap: 8px;
	overflow-x: auto;
	overflow-y: hidden;
	padding: 2px 0;
	scrollbar-width: thin;
	overscroll-behavior-x: contain;
	list-style: none;
	margin: 0;
	padding-left: 0;
}

.folderShelfItem {
	margin: 0;
	padding: 0;
}

.folderShelfEmpty {
	font-size: var(--text-xs);
	color: var(--text-tertiary);
	padding: 6px 10px;
	border-radius: var(--radius-md);
	border: 1px dashed var(--border-light);
	background: color-mix(in srgb, var(--bg-secondary) 65%, transparent);
}

.folderCard,
.recentFileCard {
	flex: 0 0 auto;
	display: inline-flex;
	align-items: center;
	gap: 8px;
	padding: 3px 7px;
	border-radius: var(--radius-md);
	border: 1px solid var(--border-light);
	background: color-mix(in srgb, var(--bg-primary) 88%, transparent);
	box-shadow: none;
	cursor: pointer;
	text-align: left;
	min-width: 0;
	max-width: 220px;
}

.folderCard:hover,
.recentFileCard:hover {
	border-color: var(--border-default);
	background: color-mix(in srgb, var(--bg-primary) 96%, transparent);
}

.folderCardIcon {
	color: var(--text-accent);
	display: inline-flex;
}

.folderCardText,
.recentFileCardText {
	display: flex;
	flex-direction: column;
	min-width: 0;
}

.folderCardName,
.recentFileCardName {
	font-size: var(--text-xs);
	font-weight: var(--font-medium);
	color: var(--text-primary);
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

.recentFileCardMetaChip {
	flex-shrink: 0;
	font-size: 11px;
	color: var(--text-tertiary);
	border: 1px solid var(--border-light);
	background: color-mix(in srgb, var(--bg-secondary) 72%, transparent);
	padding: 2px 6px;
	border-radius: var(--radius-md);
}

.recentFileCardIcon {
	display: inline-flex;
}

.canvasTitle {
	font-size: var(--text-base);
	font-weight: var(--font-semibold);
	color: var(--text-primary);
}

.canvasWrapper {
	flex: 1;
	position: relative;
	min-height: 0;
	overflow: hidden;
	background: var(--bg-canvas);
	display: flex;
}

.canvasPaneHost {
	flex: 1;
	min-width: 0;
	min-height: 0;
}
